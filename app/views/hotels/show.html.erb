

<div class="container">
    <div class="card show-hotel-card">
      <div class="card-body"> 

      <p class="text-center font-weight-bold hotel-name"><%= @hotel.name %></p>

            <p class="text-center"> <%= @hotel.location %></p>

            <p class="text-center">
              <%= @hotel.details %>
            </p>
            
            
                  <p class="text-center">
                    Price per room: Rs. <%= @hotel.price %>
                  </p>

                <p class="text-center font-weight-bold">Facilities available</p>
                  <div class="display-rooms">
                      <p class="text-center"><% if @hotel.refrigetator %>refrigerator<%end%></p>
                      <p class="text-center"><% if @hotel.tv %>TV<%end%></p>
                      <p class="text-center"><% if @hotel.geyser %>Geyser<%end%></p>
                      <p class="text-center"><% if @hotel.heater %>Heater<%end%></p>
                      <p class="text-center"><% if @hotel.ac %>AC<%end%></p>
                  </div>
               
                <div class="display-rooms">
                  
                    <% if current_user && current_user.admin %>           
                      <p class="text-center">single bed rooms : <%= @hotel.single_bed_room %></p>
                      <p class="text-center">double bed rooms : <%= @hotel.double_bed_room %></p>
                      <p class="text-center">suite rooms : <%= @hotel.suite_room %></p>
                      <p class="text-center">dormitories : <%= @hotel.dormitory %></p>
                    <% end %>
                  </div>
               

      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <% (0...@hotel.images.count).each do |eachImage| %> 
            <% if eachImage === 0 %>
                <div class="carousel-item active">
                    <%= image_tag(@hotel.images[eachImage], :class => 'd-block w-100') %>
                </div>
            <% else %>
                <div class="carousel-item">
                    <%= image_tag(@hotel.images[eachImage], :class => 'd-block w-100') %>
                </div>
            <% end %>
          <% end %>  
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>


      <% if current_user %>
        <% if current_user.admin %>
          <%= link_to 'Edit', edit_hotel_path(@hotel), :class => 'btn btn-primary btn-sm'  %>
          <%= link_to 'Delete', @hotel, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-danger btn-sm' %>
        <% else %>

        <div>
          <%= render 'check-availability' %>
        </div>
         
        <% end %>
      <% else %>
          <h5 class="text-center sign-in-to-book-room">Sign-In to book rooms  <%= link_to 'Sign In', new_user_session_path, :class => 'btn btn-success' %></h5>
      <% end %>

      <div class="container reviews-container">
        <h2>reviews</h2>
          <% @hotel.ratings.each do |comment| %>

                  <div class="card review-card">
                    <div class="card-body"> 
                         <p>
                            <strong><%= comment.user.username %></strong>
                            <strong>Rating: <%= comment.rating %>/5 star</strong>

                        </p>
                          
                          <%= comment.comment %>
                        <br>
                        <% if current_user && current_user.id === comment.user.id %>
                          <%= link_to 'Delete', [comment.hotel, comment],
                            method: :delete,
                            data: { confirm: 'Are you sure?' } %>
                        <% end %>
                    </div>
                  </div>
           
          <% end %>
      </div>
      
    <% if current_user %>
      <div class="card">
        <div class="card-body">
          <h4>Add a review:</h4>
              <%= render 'hotels/review' %> 
        </div>
      </div>
    <% end %>
                    
      </div>
    </div>
</div>



